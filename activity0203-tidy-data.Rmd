---
title: Activity 2-3 - Tidy Data
author: Purple
date: 09/10/2019
output: 
  html_document: 
    keep_md: yes
---

### Load packages

```{r load-packages, message=FALSE}
library(tidyverse)
```

### Load and collect data

```{r load-data}
fship <- read_csv("data/The_Fellowship_Of_The_Ring.csv")
ttow <- read_csv("data/The_Two_Towers.csv")
rking <- read_csv("data/The_Return_Of_The_King.csv")
```

```{r collect-data}
lotr_untidy <- bind_rows(fship, ttow, rking)
str(lotr_untidy)
lotr_untidy
```

### Exercise 1

This data is untidy because there were multiple observations in one row.

### Exercise 2
```{r}
lotr_tidy <- lotr_untidy %>% 
  gather(key = 'Gender', value = 'Words', Female, Male)
lotr_tidy

write_csv(lotr_tidy, path = "data/lotr_tidy.csv")
```

```{r}
f <- read_csv("data/Female.csv")
m <- read_csv("data/Male.csv")
lotr_tidy <- bind_rows(f, m)

write_csv(lotr_tidy, path = "data/lotr_tidy.csv")
```

### Exercise 3

``` {r three}
lotr_tidy %>%
  summarise(totalElf = sum(Elf), totalHobbit = (sum(Hobbit)), totalMan = sum(Man))
```


``` {r untidy}
lotr_untidy %>%
  group_by(Race) %>%
  summarise(totalf = sum(Female), totalm = sum(Male)) %>%
  mutate(total_words = totalm + totalf)
```

The tidy data is easiest to work with because the tidy data code is shorter and you do not have to use a mutate statement.

### Exercise 4

``` {r four}
lotr_untidy %>%
  group_by(Film) %>%
  summarise(totalf = sum(Female), totalm = sum(Male)) %>%
  mutate(total_words = totalm + totalf)
```
``` {r fourb}
lotr_tidy %>%
  group_by(Film) %>%
  summarise(total = sum(Elf+Hobbit+Man))
```

The tidy data is easiest because all of the data is in one place and each row is one observation

### Exercise 5

...

### Exercise 6

...

### Exercise 7

...
